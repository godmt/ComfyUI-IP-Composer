{"id":"497e33a5-f0f7-4589-9ed0-e03ba810623a","revision":0,"last_node_id":9,"last_link_id":9,"nodes":[{"id":2,"type":"Griptape Agent Config: Custom Structure","pos":[920,-270],"size":[295.1333923339844,126],"flags":{"collapsed":true},"order":2,"mode":0,"inputs":[{"localized_name":"prompt_driver","name":"prompt_driver","shape":7,"type":"PROMPT_DRIVER","link":2},{"localized_name":"image_generation_driver","name":"image_generation_driver","shape":7,"type":"DRIVER","link":null},{"localized_name":"embedding_driver","name":"embedding_driver","shape":7,"type":"EMBEDDING_DRIVER","link":null},{"localized_name":"vector_store_driver","name":"vector_store_driver","shape":7,"type":"VECTOR_STORE_DRIVER","link":null},{"localized_name":"text_to_speech_driver","name":"text_to_speech_driver","shape":7,"type":"TEXT_TO_SPEECH_DRIVER","link":null},{"localized_name":"audio_transcription_driver","name":"audio_transcription_driver","shape":7,"type":"AUDIO_TRANSCRIPTION_DRIVER","link":null}],"outputs":[{"localized_name":"CONFIG","name":"CONFIG","type":"CONFIG","links":[1]}],"properties":{"cnr_id":"comfyui-griptape","ver":"2a70afd0f3d6118969cd40565e07376105661a21","Node name for S&R":"Griptape Agent Config: Custom Structure"},"widgets_values":[]},{"id":3,"type":"Griptape Prompt Driver: OpenAI","pos":[600,-270],"size":[300,300],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model","name":"model","shape":7,"type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"max_attempts_on_fail","name":"max_attempts_on_fail","shape":7,"type":"INT","widget":{"name":"max_attempts_on_fail"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"use_native_tools","name":"use_native_tools","shape":7,"type":"BOOLEAN","widget":{"name":"use_native_tools"},"link":null},{"localized_name":"max_tokens","name":"max_tokens","shape":7,"type":"INT","widget":{"name":"max_tokens"},"link":null},{"localized_name":"min_p","name":"min_p","shape":7,"type":"FLOAT","widget":{"name":"min_p"},"link":null},{"localized_name":"response_format","name":"response_format","shape":7,"type":"COMBO","widget":{"name":"response_format"},"link":null},{"localized_name":"api_key_env_var","name":"api_key_env_var","shape":7,"type":"STRING","widget":{"name":"api_key_env_var"},"link":null}],"outputs":[{"localized_name":"DRIVER","name":"DRIVER","type":"PROMPT_DRIVER","links":[2]}],"properties":{"cnr_id":"comfyui-griptape","ver":"2a70afd0f3d6118969cd40565e07376105661a21","Node name for S&R":"Griptape Prompt Driver: OpenAI"},"widgets_values":["gpt-4o",2,0.7,2048,"fixed",true,-1,0.1,"default","OPENAI_API_KEY",null]},{"id":4,"type":"Griptape Create: Rules","pos":[600,80],"size":[300,280],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"name","name":"name","type":"STRING","widget":{"name":"name"},"link":null},{"localized_name":"rules","name":"rules","type":"STRING","widget":{"name":"rules"},"link":null}],"outputs":[{"localized_name":"RULES","name":"RULES","type":"RULESET","links":[3]},{"localized_name":"NAME","name":"NAME","type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-griptape","ver":"2a70afd0f3d6118969cd40565e07376105661a21","Node name for S&R":"Griptape Create: Rules"},"widgets_values":["CLIP Concept Embedding Specialist","# CLIP Concept Embedding Specialist\n\nYou are an expert in generating optimal text descriptions for CLIP vision-language model embedding. Your task is to create a diverse set of natural language descriptions that precisely define a specific visual concept for IP-Composer's concept transfer algorithm.\n\n## Technical Context:\nThese descriptions will be processed through CLIP's text encoder to create embedding vectors. These vectors will then be used to compute a subspace that captures the essence of the target concept. The quality and specificity of your descriptions directly impact the algorithm's ability to isolate and transfer the desired visual concept.\n\n## Description Requirements:\n\nYour descriptions must be:\n\n1. **Highly Specific**: Focus exclusively on the target concept with no extraneous elements\n2. **Visually Concrete**: Describe tangible, visible instances rather than abstract ideas\n3. **Consistently Structured**: Maintain similar sentence structures across descriptions\n4. **Semantically Diverse**: Cover the full range of meaningful variations within the concept\n5. **Clean of Interference**: Avoid introducing unrelated visual elements that could contaminate the embedding direction\n\n### Critical Guidelines:\n\n- **Concept Isolation**: \n  * For objects: No background, setting, or unrelated objects\n  * For attributes: No carrier objects unless intrinsic to the concept\n  * For poses/actions: No emotional expressions or specific clothing unless relevant\n  * For styles/patterns: No specific objects unless necessary for demonstration\n\n- **Variation Coverage**: Include all relevant:\n  * Physical variations (sizes, shapes, viewpoints)\n  * Categorical variations (types, subcategories)\n  * Attribute variations (colors, textures, materials) *only when relevant to the concept*\n  * Contextual variations (usage scenarios) *only when intrinsic to the concept*\n\n- **Language Structure**:\n  * Use simple, direct phrases starting with \"A photo of,\" \"An image of,\" etc.\n  * Avoid subjective qualifiers (beautiful, amazing, etc.)\n  * Maintain consistent sentence structure throughout\n  * Use specific, precise terminology rather than vague descriptions\n\n## Output Format:\n\n```\n<description_1>\n<description_2>\n<description_3>\n...\n```\n\n## Concept Categories & Examples:\n\n### person pose\n```\nA person standing up\nA person sitting down\nA person running\n```\n\n### vehicle\n```\nA picture with a sports car\nA picture with a sedan\nA picture with a school bus\n```\n\n### vehicle with color\n```\nA picture with a red sports car\nA picture with a blue sports car\nA picture with a green sports car\nA picture with a red sedan\nA picture with a blue sedan\n```\n\n### container\n```\nAn object in a wooden crate\nAn object in a metal can\nAn object in a plastic bottle\nAn object in a ceramic pot\n```\n\n### physical object\n```\nA photo of a vintage leather armchair\nA photo of a modern metal desk lamp\nA photo of a wooden dining table\n```\n\n### material & texture\n```\nAn image of a surface made of polished marble\nAn image of a surface covered in rough burlap texture\nAn image of an item made from transparent crystal glass\n```\n\n### patterns & design\n```\nA picture of an object with chevron pattern\nA picture of an object with repeating hexagonal pattern\nA picture of an object with gradient fade pattern\n```\n\n### actions & pose\n```\nA photograph of a person jumping with both feet off the ground\nA photograph of a person with arms raised overhead\nA photograph of a person in a crouching position\n```\n\n### spatial concept\n```\nAn image showing an object positioned inside another object\nAn image showing an object balanced on top of a narrow surface\nAn image showing objects arranged in a circular formation\n```\n\n### visual style\n```\nAn artwork rendered in cubist style\nAn artwork created with pixel art technique\nAn artwork drawn with continuous line art\n```\n\n## Task:\n\nGenerate at least 200 precise, varied descriptions for the given concept. Each description should contribute uniquely to defining the concept's embedding space while strictly adhering to the guidelines above.\n\nConcept: [USER WILL SPECIFY]\n"]},{"id":1,"type":"Griptape Create: Agent","pos":[920,-220],"size":[280,240],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"agent","name":"agent","shape":7,"type":"AGENT","link":null},{"localized_name":"config","name":"config","shape":7,"type":"CONFIG","link":1},{"localized_name":"tools","name":"tools","shape":7,"type":"TOOL_LIST","link":null},{"localized_name":"rulesets","name":"rulesets","shape":7,"type":"RULESET","link":3},{"localized_name":"input_string","name":"input_string","shape":7,"type":"STRING","link":null},{"localized_name":"key_value_replacement","name":"key_value_replacement","shape":7,"type":"DICT","link":null},{"localized_name":"STRING","name":"STRING","shape":7,"type":"STRING","widget":{"name":"STRING"},"link":null},{"localized_name":"max_subtasks","name":"max_subtasks","shape":7,"type":"INT","widget":{"name":"max_subtasks"},"link":null}],"outputs":[{"localized_name":"OUTPUT","name":"OUTPUT","type":"STRING","links":[8]},{"localized_name":"AGENT","name":"AGENT","type":"AGENT","links":null}],"properties":{"cnr_id":"comfyui-griptape","ver":"2a70afd0f3d6118969cd40565e07376105661a21","Node name for S&R":"Griptape Create: Agent"},"widgets_values":["weather condition",3]},{"id":9,"type":"Griptape Display: Text","pos":[1220,-270],"size":[380,370],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"INPUT","name":"INPUT","shape":7,"type":"STRING","link":8},{"localized_name":"STRING","name":"STRING","shape":7,"type":"STRING","widget":{"name":"STRING"},"link":null}],"outputs":[{"localized_name":"OUTPUT","name":"OUTPUT","type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-griptape","ver":"2a70afd0f3d6118969cd40565e07376105661a21","Node name for S&R":"Griptape Display: Text"},"widgets_values":["```\nA photo of a clear blue sky with no clouds\nAn image of a dark, overcast sky indicating impending rain\nA picture of a sky with scattered fluffy white clouds\nA photo of a sky filled with dark, stormy clouds\nAn image of a bright sunny day with intense sunlight\nA picture of a sky covered in thick fog\nA photo of a rainbow forming in a partly cloudy sky\nAn image of a sky during a heavy thunderstorm with lightning\nA picture of a sky with light drizzle and overcast clouds\nA photo of a sky experiencing a heavy snowfall\nAn image of a sky with a gentle breeze swaying tree branches\nA picture of a sky with strong gusts of wind blowing dust\nA photo of a sky during a sunrise with warm hues\nAn image of a sky during sunset with vibrant orange and pink colors\nA picture of a sky filled with fluffy cumulus clouds on a sunny day\nA photo of a sky with cirrus clouds spread thinly across\nAn image of a sky with cumulonimbus clouds indicating a thunderstorm\nA picture of a sky during a hailstorm with ice pellets falling\nA photo of a sky with a tornado forming in the distance\nAn image of a sky with a hurricane approaching over the ocean\nA picture of a sky with snowflakes gently falling\nA photo of a sky with sleet mixing with rain\nAn image of a sky during a heatwave with a shimmering horizon\nA picture of a sky with a cool breeze on an autumn day\nA photo of a sky with a heavy downpour and strong winds\nAn image of a sky with dense fog obscuring visibility\nA picture of a sky with high humidity and overcast conditions\nA photo of a sky with a light rain shower\nAn image of a sky with a cold front moving in\nA picture of a sky with a warm front passing through\nA photo of a sky with a clear view of the Milky Way at night\nAn image of a sky with aurora borealis lights in the polar region\nA picture of a sky with smog reducing air quality\nA photo of a sky with wildfire smoke creating a hazy appearance\nAn image of a sky with a sandstorm reducing visibility\nA picture of a sky with a partial eclipse of the sun\nA photo of a sky with a full moon illuminating the night\nAn image of a sky with a meteor shower occurring\nA picture of a sky with a blizzard and high winds\nA photo of a sky with a dust devil swirling in the desert\nAn image of a sky during a drought with parched ground\nA picture of a sky with a tropical cyclone forming over the ocean\nA photo of a sky with a mist hanging low to the ground\nAn image of a sky with scattered showers on a spring day\nA picture of a sky with a rainbow after a rainstorm\nA photo of a sky with a solar halo around the sun\nAn image of a sky with a lunar halo around the moon\nA picture of a sky with frost forming on surfaces\nA photo of a sky with a severe thunderstorm and lightning strikes\nAn image of a sky with a gentle snowfall covering the landscape\nA picture of a sky with a flash flood warning in effect\nA photo of a sky with a thunderstorm and hailstones\nAn image of a sky with a cold, crisp winter morning\nA picture of a sky with a warm, humid summer evening\nA photo of a sky with a tropical storm approaching land\nAn image of a sky with a gentle rain shower in the evening\nA picture of a sky with heavy fog rolling in from the ocean\nA photo of a sky with a clear view of constellations at night\nAn image of a sky with a light breeze on a spring afternoon\nA picture of a sky with a blustery wind on a winter day\nA photo of a sky with a sudden downpour during a summer storm\nAn image of a sky with a light mist on a foggy morning\nA picture of a sky with cumulonimbus clouds towering in the distance\nA photo of a sky with a dry, arid desert climate\nAn image of a sky with a wet, rainy monsoon season\nA picture of a sky with a cold snap bringing frost\nA photo of a sky with a humid, tropical atmosphere\nAn image of a sky with a clear view of the northern lights\nA picture of a sky with a heavy rainstorm and flooding\nA photo of a sky with a chilly autumn breeze\nAn image of a sky with a warm spring breeze\nA picture of a sky with a dust storm in the distance\nA photo of a sky with a heat haze distorting the horizon\nAn image of a sky with a gentle snowfall and light winds\nA picture of a sky with a strong wind advisory in effect\nA photo of a sky with a tornado warning issued\nAn image of a sky with a thunderstorm watch in place\nA picture of a sky with a cold air mass moving south\nA photo of a sky with a warm air mass moving north\nAn image of a sky with a bright, clear winter day\nA picture of a sky with a hot, humid summer day\nA photo of a sky with a thick blanket of fog\nAn image of a sky with a clear, starry night\nA picture of a sky with a sunrise over the mountains\nA photo of a sky with a sunset over the ocean\nAn image of a sky with a light breeze on a summer evening\nA picture of a sky with a heavy downpour and lightning\nA photo of a sky with a clear view of the sun\nAn image of a sky with a heavy snowfall and cold temperatures\nA picture of a sky with a light drizzle and grey clouds\nA photo of a sky with a tropical breeze on a beach\nAn image of a sky with a polar vortex bringing extreme cold\nA picture of a sky with a sandstorm approaching\nA photo of a sky with a blizzard warning issued\nAn image of a sky with a snowstorm and high winds\nA picture of a sky with a thunderstorm and heavy rain\nA photo of a sky with a clear night sky full of stars\nAn image of a sky with a calm, serene evening\nA picture of a sky with a dense fog reducing visibility to near zero\nA photo of a sky with a red sky at dawn\nAn image of a sky with a red sky at dusk\nA picture of a sky with a rainbow spanning across\nA photo of a sky with a storm surge warning issued\nAn image of a sky with a thunderstorm and hail\nA picture of a sky with a clear view of the horizon\nA photo of a sky with a bright, sunny day\nAn image of a sky with a light rain shower and sunshine\nA picture of a sky with a winter storm approaching\nA photo of a sky with a gentle breeze on a warm day\nAn image of a sky with a cold, overcast day\nA picture of a sky with a heavy rain shower and strong winds\nA photo of a sky with a misty morning\nAn image of a sky with a clear, bright moon\nA picture of a sky with a heavy snowstorm\nA photo of a sky with a light snowfall on a winter day\nAn image of a sky with a warm, sunny afternoon\nA picture of a sky with a cool, crisp morning\nA photo of a sky with a heatwave causing high temperatures\nAn image of a sky with a cold front causing a temperature drop\nA picture of a sky with a warm front causing a temperature rise\nA photo of a sky with a strong gust of wind\nAn image of a sky with a gentle breeze\nA picture of a sky with a clear, sunny day\nA photo of a sky with a heavy thunderstorm\nAn image of a sky with a light drizzle\nA picture of a sky with a snow flurry\nA photo of a sky with a thick fog\nAn image of a sky with a strong wind\nA picture of a sky with a calm, clear night\nA photo of a sky with a heavy rain\nAn image of a sky with a clear, bright day\nA picture of a sky with a light snow\nA photo of a sky with a cold, windy day\nAn image of a sky with a warm, breezy day\nA picture of a sky with a clear, starry night\nA photo of a sky with a heavy snowfall\nAn image of a sky with a light rain\nA picture of a sky with a gentle breeze\nA photo of a sky with a cold, clear day\nAn image of a sky with a warm, sunny day\nA picture of a sky with a heavy wind\nA photo of a sky with a clear, calm night\nAn image of a sky with a light drizzle\nA picture of a sky with a snow flurry\nA photo of a sky with a thick fog\nAn image of a sky with a strong wind\nA picture of a sky with a calm, clear night\nA photo of a sky with a heavy rain\nAn image of a sky with a clear, bright day\nA picture of a sky with a light snow\nA photo of a sky with a cold, windy day\nAn image of a sky with a warm, breezy day\nA picture of a sky with a clear, starry night\nA photo of a sky with a heavy snowfall\nAn image of a sky with a light rain\nA picture of a sky with a gentle breeze\nA photo of a sky with a cold, clear day\nAn image of a sky with a warm, sunny day\nA picture of a sky with a heavy wind\nA photo of a sky with a clear, calm night\n```"]}],"links":[[1,2,0,1,1,"CONFIG"],[2,3,0,2,0,"PROMPT_DRIVER"],[3,4,0,1,3,"RULESET"],[8,1,0,9,0,"STRING"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.2100000000000002,"offset":[-134.99361192138008,475.71877278968867]},"ue_links":[]},"version":0.4}